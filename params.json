{"body":"What's this?\r\n============\r\n\r\nWell I was recently diagnosed with Type-1 Diabetes. I've been collecting lots of data related to my condiiton using [OnTrack](https://play.google.com/store/apps/details?id=com.gexperts.ontrack), and wanted to do more interesting things with it. Hence this.\r\n\r\nFor now all it does is ingest a CSV file, parse it into some nice JSON, and stuff it into MongoDB.\r\n\r\nInstall\r\n=======\r\n\r\n    gem install insulin\r\n\r\nAlso requires MongoDB. Instructions for installing Mongo on Ubuntu are [here](http://docs.mongodb.org/manual/tutorial/install-mongodb-on-debian-or-ubuntu-linux/).\r\n\r\nUsage\r\n=====\r\n\r\n    insulin ingest </path/to/on_track_export_file.csv>\r\n\r\nThis will take that file, parse it, and push the JSON into a number of collections in a MongoDB database called 'insulin'. You can view them with something like\r\n\r\n    $ mongo insulin\r\n    MongoDB shell version: 2.0.6\r\n    connecting to: insulin\r\n    > db.events.find({serial : 266})\r\n    { \"_id\" : ObjectId(\"4ff07b371508cc259c8a8f0c\"), \"serial\" : 266, \"timestamp\" : ISODate(\"2012-06-28T09:21:05Z\"), \"tzoffset\" : \"+0100\", \"timezone\" : \"BST\", \"unixtime\" : 1340875265, \"day\" : \"thursday\", \"date\" : \"2012-06-28\", \"time\" : \"10:21:05 BST\", \"type\" : \"medication\", \"subtype\" : \"humalog\", \"tag\" : \"breakfast\", \"value\" : 4, \"notes\" : { \"food\" : [ \"2 bacon\", \"2 toast\" ], \"note\" : [ \"test note\" ] } }\r\n    > \r\n\r\nThere's also some Postfix voodoo I've been using to extract the CSVs from incoming mail, which I'll document here soon.\r\n\r\nNext steps\r\n==========\r\n\r\n* Get it generating custom CSVs for Spreadsheeting\r\n* Get it doing some analysis\r\n* Give it a [meteor](http://meteor.com/) front-end (might require some help from [Chris](https://github.com/mrchrisadams)). Graphs, yo\r\n* Possibly connect to [this API](http://platform.fatsecret.com/api/) to extract carb values from plain-text food descriptions (this may be a little ambitious, we'll see)\r\n\r\n\r\n","note":"Don't delete this file! It's used internally to help with page regeneration.","name":"Insulin","google":"UA-20895204-9","tagline":"Let's do something useful with my diabetes data"}